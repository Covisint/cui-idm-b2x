<div class="cui-tile">
  <div class="cui-tile__title">{{'cui-my-profile' | translate}}</div>
  <div class="cui-tile__body">

    <!-- Title -->
    <cui-expandable class="cui-expandable">
      <cui-expandable-title class="cui-expandable__title">
        {{'cui-profile-settings' | translate}}
      </cui-expandable-title>
    </cui-expandable>
    
    <form name="user" novalidate>
      <!-- User ID -->
      <inline-edit label="cui-user-id" model="usersEdit.userPassword.username"></inline-edit>
      <!-- First Name -->
      <inline-edit label="cui-first-name" model="usersEdit.user.name.given"></inline-edit>
      <!-- Last Name -->
      <inline-edit label="cui-last-name" model="usersEdit.user.name.surname"></inline-edit>
      <!-- Email -->
      <inline-edit label="cui-email" model="usersEdit.user.email"></inline-edit>
      <!-- Address 1 -->
      <inline-edit label="cui-address-1" model="usersEdit.user.addresses[0].streets[0]"></inline-edit>
      <!-- Address 2 -->
      <inline-edit label="cui-address-2" model="usersEdit.user.addresses[0].streets[1]"></inline-edit>
      <!-- City -->
      <inline-edit label="cui-city" model="usersEdit.user.addresses[0].city"></inline-edit>
      <!-- State -->
      <inline-edit label="cui-state" model="usersEdit.user.addresses[0].state"></inline-edit>
      <!-- Postal -->
      <inline-edit label="cui-postal" model="usersEdit.user.addresses[0].postal"></inline-edit>
      <!-- Country -->
      <inline-edit type="auto-complete" model="usersEdit.user.addresses[0].country" display="usersEdit.user.addresses[0].country.title || usersEdit.user.addresses[0].country" label="cui-country" selected-object="usersEdit.user.addresses[0].country" model="usersEdit.user.addresses[0].country" local-data="base.countries" search-fields="name" title-field="name"></inline-edit>
    </form>

    <!-- Update -->
    <div class="cui-wizard__controls">
      <!-- go to assets/js/app/app.profile.js to customize this function -->
      <button class="cui-wizard__next" ui-sref="users.search" style="position:relative">{{'cui-back' | translate}}</button> 
      <button class="cui-wizard__next" ng-click="usersEdit.save()" ng-class="(user.$invalid)? 'cui-wizard__next--error' : (usersEdit.success)? 'success' : (usersEdit.fail)? 'fail' : ''" style="position:relative"> 
        <div class=".cui-loading--medium-ctr" ng-show="usersEdit.saving"></div>
        <span ng-if="(!usersEdit.saving && !usersEdit.success && !usersEdit.fail)">{{'cui-update' | translate}}</span>
        <span ng-if="usersEdit.success">{{'cui-updated' | translate}}!</span>
        <span ng-if="usersEdit.fail">{{'cui-error-try-again' | translate}}</span>
      </button>
    </div>

  </div>
</div>

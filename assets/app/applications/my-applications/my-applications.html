<div class="code-info">Code for this page can be found <a class="cui-link" href="https://github.com/thirdwavellc/cui-idm-b2x/tree/master/assets/app/applications/my-applications" target="blank">here</a></div>

<div class="cui-action">
  <span class="cui-action__title" ui-sref="applications.myApplications">{{'my-applications' | translate}}</span>
  <div class="cui-action__actions">
    <!-- Sort -->
    <div class="cui-action__action-container" ng-click="myApplications.sortClicked =! myApplications.sortClicked" id="sort-button" off-click="myApplications.sortClicked=false">
      <svg xmlns="http://www.w3.org/2000/svg" class="cui-action__icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 216 146">
        <use xlink:href="bower_components/cui-icons/dist/font-awesome/font-awesome-out.svg#sort14"></use>
      </svg>
      <span class="cui-action__action-label">Sort</span>
      <!-- Sort Popover -->
      <div class="cui-popover cui-popover--top cui-popover__sort-popover" tether target="#sort-button" attachment="top middle"
        target-attachment="bottom middle" offset="-10px 0" ng-if="myApplications.sortClicked">
        <p ng-click="myApplications.sort('alphabetically')">Alphabetically</p>
        <p ng-click="myApplications.sort('date'); ">By Date Added</p>
      </div>
    </div>
    <!-- Refine -->
    <div class="cui-action__action-container">
      <svg xmlns="http://www.w3.org/2000/svg" class="cui-action__icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 216 146">
        <use xlink:href="bower_components/cui-icons/dist/font-awesome/font-awesome-out.svg#filter10"></use>
      </svg>
      <span class="cui-action__action-label">Refine</span>
    </div>
    <!-- Categories -->
    <div class="cui-action__action-container" ng-click="myApplications.categoriesClicked =! myApplications.categoriesClicked" id="categories-button" off-click="myApplications.categoriesClicked=false">
      <svg xmlns="http://www.w3.org/2000/svg" class="cui-action__icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 48 48">
        <use xlink:href="bower_components/cui-icons/dist/icons/icons-out.svg#categories"></use>
      </svg>
      <span class="cui-action__action-label">Categories</span>
      <!-- Categories Popover -->
      <div class="cui-popover cui-popover--top cui-popover__categories-popover" tether target="#categories-button" attachment="top middle"
        target-attachment="bottom middle" offset="-10px 0" ng-if="myApplications.categoriesClicked">
        <p ng-click="myApplications.parseAppsByCategory('all')">{{'all' | translate}} ({{myApplications.categoryCount[0]}})</p>
        <div ng-repeat="category in myApplications.categoryList">
          <p ng-click="myApplications.parseAppsByCategory(category)">{{category| cuiI18n}} ({{myApplications.categoryCount[$index+1]}})</p>
        </div>
      </div>
    </div>
    <svg ui-sref="applications.newRequest" xmlns="http://www.w3.org/2000/svg" class="cui-action__icon cui-action__icon--new" preserveAspectRatio="xMidYMid meet" viewBox="0 0 48 53">
      <use xlink:href="bower_components/cui-icons/dist/icons/icons-out.svg#new"></use>
    </svg>
  </div>
</div>

<div class="cui-applications__main-container">
  <div class="cui-loading__container" ng-if="!myApplications.doneLoading">
    <div class="cui-loading--center"><div class="cui-loading"></div></div>
  </div>
  <div class="sorting">
    <!-- API GAP None of the sorting mechanisms are available from the Person Package Grant API -->
  </div>
  <div ng-if="myApplications.doneLoading">
    <div class="cui-media cui-media--border" ng-repeat="application in myApplications.list track by application.id" ng-click="myApplications.goToDetails(application)">
      <div class="cui-media__image-container">
        <a ng-href="{{application.mangledUrl}}" target="_blank"><img class="cui-media__image" ng-src="{{application.iconUrl}}" alt=""></img></a>
      </div>
      <div class="cui-media__body cui-media__body--full">
        <h3 class="cui-media__title" ng-bind="application.name | cuiI18n"></h3>
        <span class="cui-media__content" ng-if="application.category"> {{application.category | cuiI18n}}</span>
        <span class="cui-status" ng-class="'cui-status--'+application.status" ng-bind="application.status | lowercase"></span>
      </div>
    </div>
  </div>
</div>
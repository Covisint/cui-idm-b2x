<!-- Password -->
<div class-toggle toggled-class="password-reset">
  <!-- Password Block -->
  <div class="cui-error"><label>{{usersEdit.checkPasswordErrorFlag}}</label></div>
  <div class="cui-users__field" ng-if="!toggled">
    <div class="cui-field-val">
      <span class="cui-field-val__field">{{'cui-password' | translate}}: </span>
      <span class="cui-field-val__val">***********</span>
    </div>
    <a href="" class="cui-link" ng-click="toggleClass()">{{'cui-edit' | translate}}</a>
  </div>

  <!-- Password Edit -->
  <div ng-if="toggled">
    <!-- Password Edit Controls -->
    <div>
      <a class="cui-link" href="" ng-if="!edit.currentPassword.$error.required && !edit.newPassword.$invalid && !edit.newPasswordRe.$error.match" ng-click="usersEdit.updatePassword(); toggleOff();">{{'cui-update' | translate}}</a>
      <a class="cui-link" href="" ng-click="usersEdit.resetPasswordFields(); toggleOff();">{{'cui-cancel' | translate}}</a>
    </div>
    <!-- Current Password -->
    <label for="currentPassword">{{'cui-enter-password' | translate}}: </label>
    <div class="cui-error" ng-messages="edit.currentPassword.$error" ng-if="edit.currentPassword.$touched">
      <div ng-messages-include="assets/app/common-templates/messages.html"></div>
    </div>
    <input class="cui-input" type="password" ng-model="usersEdit.userPasswordAccount.currentPassword" name="currentPassword" ng-required="true">
    <!-- New Password -->
    <div class="cui-input__password-holder">
      <label for="newPassword">{{'cui-enter-new-password' | translate}}: </label>
      <div class="cui-error" ng-messages="edit.newPassword.$error" ng-if="edit.newPassword.$touched">
        <div ng-messages-include="assets/app/common-templates/messages.html"></div>
      </div>
      <input class="cui-input" type="password" ng-model="usersEdit.userPasswordAccount.password" name="newPassword" ng-required="true" ng-class="{'cui-input--error': edit.newPassword.$touched && edit.newPassword.$invalid}" password-validation="base.passwordPolicies">
      <div ng-messages="edit.newPassword.$error" ng-messages-multiple ng-if="edit.newPassword.$invalid" class="cui-error__password">
        <div ng-messages-include="assets/app/profile/user/password-validation.html"></div>
      </div>
    </div>
    <!-- New Password Re -->
    <label for="newPasswordRe">{{'cui-re-enter-new-password' | translate}}: </label>
    <div class="cui-error" ng-if="edit.newPasswordRe.$touched && edit.newPasswordRe.$error.match">
      <div class="cui-error__message">{{'password-mismatch' | translate}}</div>
    </div>
    <input class="cui-input cui-field-val__val" type="password" ng-model="usersEdit.passwordRe" name="newPasswordRe" match="usersEdit.userPasswordAccount.password">
  </div>
</div>
<ng-form name="organizationSelect" novalidate>
  <p>{{'cui-all-organizations' | translate}}</p>
  <input class="cui-input--half" placeholder="{{'cui-filter-org-name' | translate}}" ng-model="usersWalkup.orgSearch.name">

  <!-- Organization List Loading -->
  <div class="cui-loading__container--organization-list" ng-if="usersWalkup.orgLoading">
    <div class="cui-loading--center"><div class="cui-loading"></div></div>
  </div>

  <cui-expandable class="cui-expandable" ng-repeat="organization in usersWalkup.organizationList | orderBy:'name' track by organization.id" ng-if="!usersWalkup.orgLoading">
    <cui-expandable-title class="cui-expandable__title cui-expandable__title--alt-layout" ng-click="toggleExpand()">
      {{organization.name}}
      <span class="chevron">></span>
    </cui-expandable-title>

    <cui-expandable-body class="cui-expandable__body">
      <p>{{organization.id}}</p>
      <p>{{organization.url}}</p>
      <p>{{organization.phones[0].number}}</p>

      <div class="cui-wizard__controls">
        <button class="cui-wizard__next" ng-click="usersWalkup.organization=organization;next()">{{'cui-select-org' | translate}}</button>
      </div>
    </cui-expandable-body>
  </cui-expandable>

  <!-- Pagination Controls -->
  <div ng-if="!usersWalkup.orgLoading">
    <span>{{'cui-num-results-page' | translate}}</span>
    <results-per-page ng-model="usersWalkup.orgPaginationSize"></results-per-page>
    <paginate class="paginate" results-per-page="usersWalkup.orgPaginationSize" count="usersWalkup.organizationCount" on-page-change="usersWalkup.orgPaginationPageHandler" ng-model="usersWalkup.orgPaginationCurrentPage"></paginate>
  </div>
</ng-form>

<div class="cui-wizard__controls">
  <button class="cui-wizard__previous" ng-click="previous()" style="margin-right:0"><< {{'cui-previous' | translate}}</button>
</div>

<!-- processHTML:remove -->
<div class="code-info">The markup and javascript used to build this page can be found <a class="cui-link" href="https://github.com/thirdwavellc/cui-idm-b2x/tree/master/app/modules/organization/hierarchy" target="blank">here</a>.</div>
<!-- /processHTML -->

<div class="cui-organization">
  <!-- Page Loading -->
  <div class="cui-loading__container" ng-if="orgHierarchy.loading">
    <div class="cui-loading--center"><div class="cui-loading"></div></div>
  </div>

  <!-- Menu Header -->
  <div class="cui-action">
    <span class="cui-action__title">
      <a ui-sref="organization.profile({orgID:orgHierarchy.organizationId})" class="cui-link--medium-light cui-link--no-decoration">{{'cui-org-profile' | translate}}</a> | 
      <a ui-sref="organization.hierarchy({orgID:orgHierarchy.organizationId})" class="cui-link--medium-light cui-link--no-decoration">{{'cui-org-hierarchy' | translate}}</a> | 
      <a ui-sref="organization.directory({orgID:orgHierarchy.organizationId})" class="cui-link--medium-light cui-link--no-decoration">{{'directory' | translate}}</a> | 
      <a ui-sref="organization.roles({orgID:orgHierarchy.organizationId})" class="cui-link--medium-light cui-link--no-decoration">{{'roles' | translate}}</a>
    </span>
    <div class="cui-action__actions">
      <div class="cui-action__action-container" id="invitation-button" ng-click="orgHierarchy.invitationClicked=!orgHierarchy.invitationClicked" off-click="orgHierarchy.invitationClicked=false">
        <svg xmlns="http://www.w3.org/2000/svg" class="cui-action__icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 216 146">
          <use xlink:href="bower_components/cui-icons/dist/font-awesome/font-awesome-out.svg#envelope4"></use>
        </svg>
        <!-- Invitation Popover -->
        <div class="cui-popover cui-popover--top cui-popover__sort-popover" tether target="#invitation-button" attachment="top middle" target-attachment="bottom middle" offset="-10px 0" ng-if="orgHierarchy.invitationClicked">
          <p ui-sref="invitation.user({orgID:orgHierarchy.organizationId})">{{'invite-user' | translate}}</p>
          <p ui-sref="invitation.division({orgID:orgHierarchy.organizationId})">{{'invite-division' | translate}}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Action Header -->
  <div class="cui-action">
    <span class="cui-action__title">{{orgHierarchy.organization.name}}</span>
    <div class="cui-action__actions">
    </div>
  </div>

  <!-- Profile Content -->
  <div class="cui-organization__main-container">
    <div class="cui-tree" cui-tree="orgHierarchy.organizationHierarchy" cui-tree-leaf-display="(object.name | cuiI18n)" cui-tree-leaf-click-callback="orgHierarchy.goToOrgProfile"></div>
  </div>
</div>

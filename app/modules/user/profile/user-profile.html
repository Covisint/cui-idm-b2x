<!-- processHTML:remove -->
<div class="code-info">Code for this page can be found <a class="cui-link" href="https://github.com/thirdwavellc/cui-idm-b2x/tree/master/assets/app/profile/user" target="blank">here</a> and the layout styles <a href="https://github.com/thirdwavellc/cui-idm-b2x/tree/master/assets/scss/3-views/users.scss" class="cui-link" target="blank">here</a></div>
<!-- /processHTML -->

<ng-form name="edit" novalidate>
  <div class="cui-users__edit">

    <!-- Title -->
    <div class="cui-action">
      <div class="cui-action__title">
        {{'cui-my-profile' | translate}}
      </div>
    </div>

    <div class="cui-users__main-container">

      <!-- Page Loading -->
      <div class="cui-loading__container" ng-if="base.loader.for['userProfile.initProfile']">
        <div class="cui-loading--center"><div class="cui-loading"></div></div>
      </div>

      <!-- Error Messages -->
      <p class="cui-users__password-success" style="color:red" ng-if="base.apiError.for['userProfileFactory.initUser']">{{'cui-userProfile-user-error' | translate}}</p>
      <p class="cui-users__password-success" style="color:red" ng-if="base.apiError.for['userProfileFactory.initSecurityQuestions']">{{'cui-userProfile-security-error' | translate}}</p>
      <p class="cui-users__password-success" style="color:red" ng-if="base.apiError.for['userProfileFactory.initPasswordPolicy']">{{'cui-userProfile-password-error' | translate}}</p>

      <!-- Header Block -->
      <div ng-include="'app/modules/user/profile/sections/header.html'" ng-if="userProfile.user"></div>

      <div class="cui-users__profile">
        <!-- Left Block -->
        <div class="cui-users__profile-info">
          <div class="cui-users__info-block">
            <!-- Basic info  (name and email)-->
            <div ng-include="'app/modules/user/profile/sections/basic-info.html'" ng-if="userProfile.user"></div>
          </div>

          <div class="cui-users__info-block">
            <div ng-if="userProfile.passwordUpdateSuccess" class="cui-users__password-success">Password Reset Success!</div>
            <!-- Password -->
            <div ng-include="'app/modules/user/profile/sections/password.html'" ng-if="userProfile.passwordRules"></div>
          </div>

          <div class="cui-users__info-block">
            <!-- Challenge Questions -->
            <div ng-include="'app/modules/user/profile/sections/challenge-questions.html'" ng-if="userProfile.userSecurityQuestions && userProfile.allSecurityQuestions"></div>
          </div>

          <div class="cui-users__info-block">
            <!-- Timezone/Language -->
            <div ng-include="'app/modules/user/profile/sections/timezone-language.html'" ng-if="userProfile.user"></div>
          </div>
        </div>
        
        <!-- Right Block -->
        <div class="cui-users__profile-info">
          <div class="cui-users__info-block">
            <!-- Address -->
            <div ng-include="'app/modules/user/profile/sections/address.html'" ng-if="userProfile.user"></div>
          </div>

          <div class="cui-users__info-block">
            <!-- Phones/Fax -->
            <div ng-include="'app/modules/user/profile/sections/phone-fax.html'" ng-if="userProfile.user"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-form>

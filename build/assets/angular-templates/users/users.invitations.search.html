<div class="cui-tile">
  <div class="cui-tile__title">User Invitations</div>
    <div class="cui-tile__body">
        <ng-include src="'assets/angular-templates/loading.html'" class="fill" ng-class="usersInvitations.listLoading? 'show' : ''"></ng-include>
        <a ui-sref="users.invite" class="cui-link">Invite new user</a><br/><br/>
        
        <div class="cui-expandable__container">
            <div class="cui-expandable__tr">
              <span class="cui-expandable__td">Invitation ID</span>
              <span class="cui-expandable__td">Email</span>
              <span class="cui-expandable__td"></span>
            </div>
            <cui-expandable class="cui-expandable" ng-repeat="invitation in usersInvitations.list">
                <cui-expandable-title class="cui-expandable__title" ng-click="usersInvitations.getInfo(invitation.invitor.id,invitation.invitee.id,$index);toggleExpand()">
                    <div class="cui-expandable__tr">
                        <span class="cui-expandable__td">{{invitation.id}}</span>
                        <span class="cui-expandable__td">{{invitation.email}}</span>
                        <span class="cui-expandable__td"><a class="cui-link">View</a></span>
                    </div>
                </cui-expandable-title>
                <cui-expandable-body class="cui-expandable__body" style="position:relative">
                    <ng-include src="'assets/angular-templates/loading-medium.html'" class="fill" ng-class="(usersInvitations.invitorLoading[$index] && usersInvitations.inviteeLoading[$index])? 'show' : ''"></ng-include>
                    </br>
                    <div ng-show="!usersInvitations.invitorLoading[$index] && !usersInvitations.inviteeLoading[$index]">
                        <ul>
                            <li class="cui-expandable__review-item">
                                Invitor: {{usersInvitations.invitor[$index].name.given}} {{usersInvitations.invitor[$index].name.surname}}
                            </li>
                            <li class="cui-expandable__review-item">
                                Invitee: {{usersInvitations.invitee[$index].name.given}} {{usersInvitations.invitee[$index].name.surname}} ({{invitation.email}})
                            </li>
                        </ul>
                    </div>
                    </br>
                </cui-expandable-body>
            </cui-expandable>
        
    </div>
</div>
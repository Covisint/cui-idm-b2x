<form name="user" novalidate>


  <!-- First row -->
  <div class="cui-wizard__field-row"> 
   <!-- First Name -->     
    <div class="cui-wizard__field-container cui-wizard__field-container--half">
      <label for="user-name-given">{{'cui-first-name' | translate}}</label> 
      <!--    This adds error messages to the firstName input field. Notice the naming convention
      ng-messages="<formName><inputName>.$error" -->
      <div class="cui-error" ng-messages="user.firstName.$error" ng-if="user.firstName.$touched">
        <div ng-messages-include="assets/angular-templates/messages.html"></div>
      </div>
      <input type="text" name="firstName" class="cui-input" ng-required="true" ng-model="usersWalkup.user.name.given"/>
    </div>
    <!-- Last Name -->
    <div class="cui-wizard__field-container cui-wizard__field-container--half">
      <label for="user-name-surname">{{'cui-last-name' | translate}}</label>
      <div class="cui-error" ng-messages="user.lastName.$error" ng-if="user.lastName.$touched">
        <div ng-messages-include="assets/angular-templates/messages.html"></div>
      </div>
      <input type="text" ng-model="usersWalkup.user.name.surname" name="lastName" class="cui-input" ng-required="true"/>
    </div>
  </div>


  <!-- Second row -->
  <div class="cui-wizard__field-row"> 
   <!-- Email -->     
    <div class="cui-wizard__field-container cui-wizard__field-container--half">
      <label>{{'cui-email' | translate}}</label> 
      <div class="cui-error" ng-messages="user.email.$error" ng-if="user.email.$touched">
        <div ng-messages-include="assets/angular-templates/messages.html"></div>
      </div>
      <input type="email" name="email" class="cui-input" ng-required="true" ng-model="usersWalkup.user.email"/>
    </div>

    <!-- Re-enter Email -->
    <div class="cui-wizard__field-container cui-wizard__field-container--half">
      <label>{{'cui-email-re' | translate}}</label>
      <div class="cui-error" ng-if="user.emailRe.$touched && user.emailRe.$error.match">
        <div class="cui-error__message">{{'email-mismatch' | translate}}</div>
      </div>
      <input type="text" ng-model="usersWalkup.emailRe" name="emailRe" class="cui-input" ng-required="true" match="usersWalkup.user.email"/>
    </div>
  </div>


  <!-- Third row -->
  <div class="cui-wizard__field-row"> 
     <!-- Country -->
    <div class="cui-wizard__field-container cui-wizard__field-container--half">
      <label for="country">{{"cui-country" | translate}}</label>
      <div class="cui-error" ng-messages="organization.country.$error" ng-if="organization.country.$touched">
        <div ng-messages-include="assets/angular-templates/messages.html"></div>
      </div>
      <div auto-complete input-name="country" pause="100" selected-object="usersWalkup.user.addresses[0].country" local-data="base.countries" search-fields="name" title-field="name" minlength="1" input-class="cui-input" match-class="highlight" auto-match="true"></div>
    </div>

    <!-- Re-enter Email -->
    <div class="cui-wizard__field-container cui-wizard__field-container--half">
      <label>{{'cui-email-re' | translate}}</label>
      <div class="cui-error" ng-if="user.emailRe.$touched && user.emailRe.$error.match">
        <div class="cui-error__message">{{'email-mismatch' | translate}}</div>
      </div>
      <input type="text" ng-model="usersWalkup.emailRe" name="emailRe" class="cui-input" ng-required="true" match="usersWalkup.user.email"/>
    </div>
  </div>




  <div class="cui-wizard__field-row">
    <!-- Address 1 -->
    <div class="cui-wizard__field-container cui-wizard__field-container--half">
      <label for="address1">{{"cui-user-address" | translate}} 1</label>
       <input type="text" ng-model="usersWalkup.user.addresses[0].streets[0]" class="cui-input" name="address1"></input>
    </div>

    <!-- Address 2 -->
    <div class="cui-wizard__field-container cui-wizard__field-container--half">
      <label for="address2">{{"cui-user-address" | translate}} 2</label>
      <input type="text" ng-model="usersWalkup.user.addresses[0].streets[1]" class="cui-input" name="address2"></input>
    </div>
  </div>
  <div class="cui-wizard__field-row">

    <!-- City/Region -->
    <div class="cui-wizard__field-container cui-wizard__field-container--half">
      <label for="city-region">{{"cui-city" | translate}}</label>
      <input type="text" ng-model="usersWalkup.user.addresses[0].city" class="cui-input" name="city"></input>
    </div>

    <!-- State/Province -->
    <div class="cui-wizard__field-container cui-wizard__field-container--half">
      <label for="state-province">{{"cui-state" | translate}}</label>
      <input type="text" ng-model="usersWalkup.user.addresses[0].state" class="cui-input" name="state"></input>
    </div>
  </div>

  <div class="cui-wizard__field-row">
    <!-- Postal Code -->
    <div class="cui-wizard__field-container cui-wizard__field-container--half">
      <label for="postal-code">{{"cui-postal" | translate}}</label>
        <input type="text" ng-model="usersWalkup.user.addresses[0].postal" class="cui-input" name="postal"></input>
    </div>

    <!-- Country -->
    <div class="cui-wizard__field-container cui-wizard__field-container--half">
      <label for="country">{{"cui-country" | translate}}</label>
        <input type="text" ng-model="usersWalkup.user.addresses[0].country" class="cui-input" name="country"></input>
    </div>
  </div>

  <div class="cui-wizard__field-row">
    <!-- Timezone -->
    <div class="cui-wizard__field-container cui-wizard__field-container--half">
      <label for="timezone">{{"cui-timezone" | translate}}</label>
      <div class="cui-error" ng-messages="user.timezone.$error" ng-if="user.timezone.$touched">
        <div ng-messages-include="assets/angular-templates/messages.html"></div>
      </div>
      <input type="text" ng-model="usersWalkup.user.timezone" class="cui-input" name="timezone" ng-required="true"></input>
    </div>

    <!-- Language -->
    <div class="cui-wizard__field-container cui-wizard__field-container--half">
      <label for="language">Language</label>
      <div class="cui-error" ng-messages="user.language.$error" ng-if="user.language.$touched">
        <div ng-messages-include="assets/angular-templates/messages.html"></div>
      </div>
      <input type="text" ng-model="usersWalkup.user.language" class="cui-input" name="language" ng-required="true"></input>
    </div>
  </div>

  <!-- TODO: ADD PREFIX, MIDDLE NAME, TIME ZONE, LANGUAGE PREF. EMAIL ADDRESS (?), MOBILE PHONE, FAX -->

</form>

<div class="cui-wizard__controls">
  <!-- go to assets/js/app/app.profile.js to customize this function -->
  <button class="cui-wizard__next" ng-click="nextWithErrorChecking(user)" ng-class="user.$invalid? 'cui-wizard__next--error' : ''">{{'cui-next' | translate}}</button>
</div>